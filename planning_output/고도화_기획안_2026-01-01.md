# SelectChatGPT 서비스 고도화 통합 기획안

> **생성일**: 2026-01-01
> **에이전트**: Claude(2), Codex(1) 병렬 분석
> **주제**: ChatGPT 대화 선택 공유 서비스 고도화

---

## 📋 Executive Summary

### 공통 핵심 인사이트

| 관점 | 핵심 발견 | 우선 조치 |
|------|----------|----------|
| **제품** | 타 AI 챗봇(Claude, Gemini) 지원이 시급 | 범용 파서 아키텍처 구축 |
| **사용자** | 긴 대화에서 메시지 찾기 어려움 (마찰점) | 검색/AI 추천 기능 |
| **비즈니스** | Freemium 모델로 수익화 가능 | Pro 티어 설계 |
| **기술** | 파싱 안정성 + Export 워커 분리 필요 | 큐 기반 아키텍처 |

### 핵심 방향 (3개 에이전트 합의)

1. **안정성 강화** - ChatGPT 구조 변경에 강건한 파싱
2. **범위 확장** - Claude, Gemini 등 멀티 플랫폼 지원
3. **스마트 선택** - AI 기반 핵심 메시지 추천
4. **단순화** - 과도한 Export 옵션 프리셋화

---

## 🎯 1. 기존 기능 현황 및 개선

### 현재 구현 완료 기능

| 기능 | 상태 | 위치 |
|------|------|------|
| 메시지 선택 (체크박스, Shift+Click) | ✅ | extension/src/components |
| 공유 링크 생성 | ✅ | server/src/routes/share.ts |
| Export (MD/PNG/PDF) | ✅ | packages/common/src/export |
| URL 파싱 | ✅ | server/src/services/parse.service.ts |
| 다국어 지원 | ✅ | web/src/i18n |
| Prometheus 메트릭 | ✅ | server/src/metrics.ts |

### 개선이 필요한 영역

#### A. 메시지 선택 UX (Agent 1, 2 공통)

| 현재 | 개선 | 기대 효과 |
|------|------|----------|
| Shift+Click만 지원 | Ctrl/Cmd+Click 개별 다중 선택 | 유연한 선택 패턴 |
| 체크박스 항상 노출 | 호버 시에만 표시 | 읽기 경험 개선 |
| 전체 스캔 후 선택 | 키워드 검색 + AI 추천 | 긴 대화 처리 효율화 |

#### B. Export 기능 (Agent 1, 3 공통)

| 현재 | 개선 | 기대 효과 |
|------|------|----------|
| 15+ 세부 옵션 | 3개 프리셋 (간편/표준/인쇄용) | 진입 장벽 낮춤 |
| 동기 처리 | 큐 기반 비동기 워커 | 응답 속도 개선 |
| 서버 메모리 저장 | S3/Cloud Storage + 서명 URL | 확장성 확보 |

#### C. 공유 페이지 (Agent 1, 3 공통)

| 현재 | 개선 | 기대 효과 |
|------|------|----------|
| 전체 렌더링 | 가상 스크롤 (react-window) | 100+ 메시지 성능 |
| LRU 메모리 캐시 | Redis 캐시 레이어 | 재시작 시에도 캐시 유지 |
| CSR만 지원 | SSR 메타 태그 | SNS 미리보기 품질 |

---

## 🚀 2. 필수 신규 기능

### 2.1 멀티 플랫폼 지원 ⭐ (전 에이전트 동의)

**필요성**: ChatGPT 외 Claude, Gemini, Perplexity 사용자 증가

```
지원 대상:
├── ChatGPT (chatgpt.com/share/*) - 현재 지원
├── Claude (claude.ai/share/*) - 신규
├── Gemini (gemini.google.com/share/*) - 신규
└── 범용 Import (JSON/텍스트 붙여넣기) - 신규
```

**구현 전략**:
```typescript
// 서비스별 파서 모듈화
interface IChatParser {
  canParse(url: string): boolean;
  parse(html: string): ParsedConversation;
  detectRoles(messages: RawMessage[]): Message[];
}

// 파서 레지스트리
class ParserRegistry {
  register(parser: IChatParser): void;
  getParser(url: string): IChatParser | null;
}
```

**우선순위**: 🔴 최상위

### 2.2 스마트 검색 & AI 추천 (Agent 1, 2 공통)

**사용자 페인 포인트**: "100개 메시지에서 핵심 5개 찾기 어려움"

**기능 스펙**:
```
검색 기능:
├── 키워드 검색 (하이라이트)
├── 역할별 필터 (user/assistant)
└── "코드 포함 메시지만" 필터

AI 추천:
├── "핵심 메시지 N개 자동 선택"
├── 관련 Q&A 자동 그룹핑
└── 민감 정보 자동 감지 & 마스킹 제안
```

**우선순위**: 🔴 높음

### 2.3 공유 관리 대시보드 (Agent 2 제안)

**현재 문제**: 공유 링크 생성 후 관리 불가

**기능**:
```
대시보드:
├── 내 공유 목록 보기
├── 조회수 통계
├── 만료 설정 (7일/30일/무제한)
├── 비밀번호 보호
├── 원격 삭제
└── 공유 링크 재생성
```

**기술 요구**: 사용자 계정 시스템 (소셜 로그인)

**우선순위**: 🟡 중간

### 2.4 대화 요약 생성 (Agent 1 차별화 제안)

**개념**: 선택한 메시지를 AI가 요약

```
POST /api/shares/:id/summarize
{
  style: 'bullet' | 'paragraph' | 'tldr',
  length: 'short' | 'medium' | 'long'
}
```

**차별화 포인트**: 단순 공유 도구 → AI 활용 도구

**우선순위**: 🟡 중간 (Phase 2)

---

## 🗑️ 3. 제거/단순화할 기능

### 3.1 PDF 옵션 단순화 (Agent 1)

**현재**: ExportButton.tsx 700줄, 15+ 옵션

**제안**:
```
Before: 폰트크기, 줄간격, 자간, 페이지크기, 여백, 헤더, 푸터, ...

After:
├── 프리셋: 간편(기본) | 문서용 | 인쇄용
└── 고급 옵션 (토글 숨김)
```

### 3.2 중복 스타일 컨트롤 정리

**현재**: SharePageClient + StyleControls + ExportButton 에서 유사 옵션 중복

**제안**: 단일 StyleContext로 통합

### 3.3 과세분화된 Analytics 정리

```
유지:
- share_created, share_viewed, export_completed

제거:
- popupOpened, selectAll, deselectAll (가치 낮음)
```

---

## 👥 4. 사용자 세분화 & 수익화 (Agent 2)

### 타겟 사용자 세그먼트

| 세그먼트 | 비율 | 핵심 니즈 | 지불 의향 |
|----------|------|----------|----------|
| 지식 공유자 (개발자, 교육자) | 40% | 코드 하이라이팅, 빠른 공유 | 중간 |
| 콘텐츠 크리에이터 | 25% | 시각적 품질, 브랜딩 | 높음 |
| 비즈니스 문서화 | 20% | 전문 포맷, 팀 협업 | 높음 |
| 캐주얼 공유자 | 15% | 간편함, 무료 | 낮음 |

### Freemium 수익 모델

#### Free Tier
- 월 10회 공유 생성
- Markdown Export만
- 7일 고정 만료
- 워터마크 포함

#### Pro Tier ($7/월)
- 무제한 공유
- 전체 Export (MD/PNG/PDF)
- 커스텀 만료
- 워터마크 제거
- AI 핵심 추천

#### Team Tier ($15/유저/월)
- Pro 전체 + 팀 워크스페이스
- 브랜드 커스터마이징
- 관리자 콘솔, SSO

### 수익 예측

```
Year 1 (12개월 후):
├── Free Users: 50,000
├── Pro 전환율: 3% → 1,500 유저
├── Pro MRR: $10,500
└── 총 ARR: ~$135,000

Year 2:
├── Free Users: 200,000
├── Pro 전환율: 4% → 8,000 유저
└── 총 ARR: ~$762,000
```

---

## 🔧 5. 기술 아키텍처 개선 (Agent 3)

### 5.1 아키텍처 분리

```
현재:
Extension → Server (Express) → MongoDB
                  ↓
              Web (Next.js)

제안:
Extension → API Gateway (Express) → MongoDB
                  ↓
            Redis Queue (BullMQ)
                  ↓
            Export Worker (Playwright Pool)
                  ↓
            S3/Cloud Storage
                  ↓
              Web (Next.js + ISR)
```

### 5.2 성능 최적화 (Agent 3)

| 영역 | 현재 | 개선 |
|------|------|------|
| 메시지 렌더링 | 전체 DOM | react-window 가상화 |
| 파싱 결과 캐시 | LRU 메모리 | Redis (5분 TTL) |
| Export 처리 | 동기 | 큐 기반 비동기 워커 |
| 정적 자산 | 직접 서빙 | CDN + gzip/brotli |

### 5.3 확장성

```
Phase 1 (현재): 단일 서버, 단일 MongoDB
Phase 2: K8s HPA (CPU+큐 길이), Redis 캐시
Phase 3: API/워커 분리 배포, MongoDB ReplicaSet
```

### 5.4 모니터링 강화 (Agent 3)

```
현재 메트릭:
- http_request_duration_seconds
- share_operations_total

추가 필요:
- parse_success_rate (파싱 성공률 - ChatGPT 변경 조기 감지)
- cache_hit_rate
- export_queue_depth
- worker_pool_utilization

알림:
- 파싱 실패율 > 10% → Slack 알림
- 큐 체류 시간 > 30초 → 스케일아웃 트리거
```

### 5.5 보안 강화 (Agent 3)

| 영역 | 현재 | 개선 |
|------|------|------|
| 공유 링크 | 랜덤 ID | 서명 토큰(JWT) + TTL |
| XSS | DOMPurify | + CSP 헤더 강화 |
| 확장 권한 | 넓은 범위 | host_permissions 최소화 |
| 비밀 관리 | 환경변수 | K8s Secrets + Sealed Secrets |

### 5.6 개발자 경험 (Agent 3)

```
현재:
- 테스트 없음
- 수동 배포

개선:
├── 테스트: Vitest 단위 + Playwright E2E
├── CI: lint + typecheck + test 병렬
├── CD: 브랜치 미리보기 자동 배포
└── 모노레포: Turborepo 도입 검토
```

---

## 📊 6. 우선순위 로드맵

### Phase 1: 안정화 (1-2개월) 🔴

| 항목 | 담당 | 상태 |
|------|------|------|
| 파싱 안정성 강화 (다중 폴백) | Backend | ⬜ |
| 메시지 검색/필터 기능 | Extension | ⬜ |
| PDF 옵션 프리셋화 | Web | ⬜ |
| CSP 헤더 및 보안 강화 | Backend | ⬜ |
| Vitest 단위 테스트 구축 | All | ⬜ |
| Redis 캐시 레이어 | Backend | ⬜ |

### Phase 2: 기능 확장 (3-4개월) 🟡

| 항목 | 담당 | 상태 |
|------|------|------|
| Claude/Gemini 파서 추가 | Backend | ⬜ |
| 사용자 계정 시스템 (소셜 로그인) | Full-stack | ⬜ |
| 공유 관리 대시보드 | Web | ⬜ |
| AI 핵심 메시지 추천 MVP | Backend | ⬜ |
| Free/Pro 티어 결제 시스템 | Full-stack | ⬜ |

### Phase 3: 성장 (5-6개월) 🟢

| 항목 | 담당 | 상태 |
|------|------|------|
| 큐 기반 Export 워커 분리 | Backend | ⬜ |
| 팀 워크스페이스 | Full-stack | ⬜ |
| 대화 요약 생성 | Backend | ⬜ |
| 가상 스크롤 적용 | Web | ⬜ |
| OpenTelemetry 트레이싱 | Infra | ⬜ |

---

## 🎯 7. 핵심 성공 지표 (KPIs)

| 지표 | 현재 | 3개월 | 6개월 | 12개월 |
|------|------|-------|-------|--------|
| MAU | - | 5,000 | 15,000 | 50,000 |
| 월간 공유 생성 | - | 10,000 | 40,000 | 150,000 |
| 파싱 성공률 | ~95% | 99% | 99.5% | 99.9% |
| Export 완료율 | - | 95% | 98% | 99% |
| Pro 전환율 | - | 1% | 2% | 4% |
| NPS | - | 30+ | 40+ | 50+ |

---

## 📝 8. 의사결정 체크리스트

### 즉시 결정 필요

- [ ] **수익화 시작 시점**: 기능 우선 vs 동시 진행?
- [ ] **멀티 플랫폼 순서**: Claude 먼저 vs Gemini 먼저?
- [ ] **사용자 계정**: 필수 vs 선택적 로그인?

### 기술 선택

- [ ] **캐시**: Redis vs Memcached?
- [ ] **큐**: BullMQ vs AWS SQS?
- [ ] **스토리지**: S3 vs Cloudflare R2?
- [ ] **모니터링**: Grafana Cloud vs 자체 호스팅?

### 리소스 배분

- [ ] **팀 구성**: 1인 개발 유지 vs 확장?
- [ ] **외부 의존성**: 자체 구축 vs SaaS 활용?

---

## 📌 결론

SelectChatGPT는 **"AI 대화의 정제된 공유"**라는 명확한 니치에서 다음 전략으로 성장할 수 있습니다:

### 즉시 실행 (이번 주)
1. Redis 캐시 레이어 추가
2. 파싱 실패 알림 설정
3. PDF 옵션 프리셋화

### 단기 (1-2개월)
1. 메시지 검색/필터 기능
2. 기본 테스트 인프라
3. Claude 파서 개발 착수

### 중기 (3-6개월)
1. 사용자 계정 + Pro 티어
2. AI 핵심 추천
3. 큐 기반 아키텍처 전환

---

*Generated by Multi-Agent Planning (Claude x2 + Codex x1)*
*SelectChatGPT 서비스 고도화 기획 - 2026-01-01*
